{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///goinfre/mghalmi/ft_transcendence/src/app/%28main%29/play/game/PingPongGame.tsx"],"sourcesContent":["\n\"use client\";\nimport React, { useRef, useEffect, useState } from \"react\";\n\nconst GAME_RATIO = 16 / 9;\n\nconst GAME_WIDTH = 880;\nconst GAME_HEIGHT = 495; // 16:9 ratio\nconst PADDLE_WIDTH = 12;\nconst PADDLE_HEIGHT = 90;\nconst BALL_SIZE = 16;\nconst PADDLE_SPEED = 7;\nconst BALL_SPEED = 6;\n\nconst isMobile = () => typeof window !== 'undefined' && window.innerWidth < 640;\n\nexport const PingPongGame: React.FC<PingPongGameProps> = ({ \n  player1, \n  player2, \n  onExit, \n  isTournamentMode = false \n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [scores, setScores] = useState({ p1: 0, p2: 0 });\n  const [running, setRunning] = useState(false);\n  const [paused, setPaused] = useState(false);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [mobile, setMobile] = useState(isMobile());\n  const [gameTime, setGameTime] = useState({ hours: 0, minutes: 0, seconds: 0 });\n  const gameStartTime = useRef<number | null>(null);\n  const [canvasDims, setCanvasDims] = useState<{ width: number; height: number }>({\n    width: GAME_WIDTH,\n    height: GAME_HEIGHT,\n  });\n\n  // Validate players have required properties\n  const safePlayer1 = {\n    id: player1?.id || crypto.randomUUID(),\n    name: player1?.name || 'Player 1',\n    avatar: player1?.avatar || '/mghalmi.jpg',\n    nickname: player1?.nickname || player1?.name || 'Player 1'\n  };\n\n  const safePlayer2 = {\n    id: player2?.id || crypto.randomUUID(),\n    name: player2?.name || 'Player 2',\n    avatar: player2?.avatar || '/mghalmi.jpg',\n    nickname: player2?.nickname || player2?.name || 'Player 2'\n  };\n\n  // Paddle positions: player1 left, player2 right\n  const paddle1Y = useRef<number>(GAME_HEIGHT / 2 - PADDLE_HEIGHT / 2);\n  const paddle2Y = useRef<number>(GAME_HEIGHT / 2 - PADDLE_HEIGHT / 2);\n  const ball = useRef({\n    x: GAME_WIDTH / 2 - BALL_SIZE / 2,\n    y: GAME_HEIGHT / 2 - BALL_SIZE / 2,\n    dx: BALL_SPEED * (Math.random() > 0.5 ? 1 : -1),\n    dy: BALL_SPEED * (Math.random() > 0.5 ? 1 : -1),\n  });\n  const keys = useRef<{ [key: string]: boolean }>({});\n\n  // Mobile paddle state\n  const [paddle1Move, setPaddle1Move] = useState<'' | 'up' | 'down'>('');\n  const [paddle2Move, setPaddle2Move] = useState<'' | 'up' | 'down'>('');\n\n  // Game timer\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n    \n    if (gameStarted && !paused && gameStartTime.current) {\n      interval = setInterval(() => {\n        const elapsed = Math.floor((Date.now() - gameStartTime.current!) / 1000);\n        const hours = Math.floor(elapsed / 3600);\n        const minutes = Math.floor((elapsed % 3600) / 60);\n        const seconds = elapsed % 60;\n        setGameTime({ hours, minutes, seconds });\n      }, 1000);\n    }\n\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [gameStarted, paused]);\n\n  // Responsive canvas\n  useEffect(() => {\n    const handleResize = () => {\n      setMobile(isMobile());\n      // Calculate responsive dimensions while maintaining aspect ratio\n      const maxW = Math.min(window.innerWidth * 0.9, 1200);\n      const maxH = Math.min(window.innerHeight * 0.6, 700);\n      let width = maxW;\n      let height = width / GAME_RATIO;\n      if (height > maxH) {\n        height = maxH;\n        width = height * GAME_RATIO;\n      }\n      setCanvasDims({ width, height });\n    };\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  // Update canvas size when dimensions change\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) {\n      canvas.width = canvasDims.width;\n      canvas.height = canvasDims.height;\n    }\n  }, [canvasDims]);\n\n  // Keyboard controls (Desktop)\n  useEffect(() => {\n    if (mobile) return;\n    const downHandler = (e: KeyboardEvent) => {\n      keys.current[e.key.toLowerCase()] = true;\n    };\n    const upHandler = (e: KeyboardEvent) => {\n      keys.current[e.key.toLowerCase()] = false;\n    };\n    window.addEventListener(\"keydown\", downHandler);\n    window.addEventListener(\"keyup\", upHandler);\n    return () => {\n      window.removeEventListener(\"keydown\", downHandler);\n      window.removeEventListener(\"keyup\", upHandler);\n    };\n  }, [mobile]);\n\n  // Game loop\n  useEffect(() => {\n    if (!gameStarted || paused) return;\n    let animation: number;\n\n    const scaleX = canvasDims.width / GAME_WIDTH;\n    const scaleY = canvasDims.height / GAME_HEIGHT;\n\n    const draw = () => {\n      const ctx = canvasRef.current?.getContext(\"2d\");\n      if (!ctx) return;\n      \n      // Clear canvas\n      ctx.clearRect(0, 0, canvasDims.width, canvasDims.height);\n      \n      // Dark gradient background\n      const grad = ctx.createLinearGradient(0, 0, canvasDims.width, canvasDims.height);\n      grad.addColorStop(0, \"#23272f\");\n      grad.addColorStop(1, \"#15181e\");\n      ctx.fillStyle = grad;\n      ctx.fillRect(0, 0, canvasDims.width, canvasDims.height);\n\n      // Mid lines (cross style)\n      ctx.strokeStyle = \"rgba(255,255,255,0.08)\";\n      ctx.lineWidth = 2;\n      // Vertical\n      ctx.beginPath();\n      ctx.moveTo(canvasDims.width / 2, 0);\n      ctx.lineTo(canvasDims.width / 2, canvasDims.height);\n      ctx.stroke();\n      // Horizontal\n      ctx.beginPath();\n      ctx.moveTo(0, canvasDims.height / 2);\n      ctx.lineTo(canvasDims.width, canvasDims.height / 2);\n      ctx.stroke();\n\n      // Paddles\n      ctx.fillStyle = \"#fafbff\";\n      ctx.shadowColor = \"#20242a\";\n      ctx.shadowBlur = 7;\n      ctx.fillRect(\n        0, \n        paddle1Y.current * scaleY, \n        PADDLE_WIDTH * scaleX, \n        PADDLE_HEIGHT * scaleY\n      );\n      ctx.fillRect(\n        canvasDims.width - PADDLE_WIDTH * scaleX, \n        paddle2Y.current * scaleY, \n        PADDLE_WIDTH * scaleX, \n        PADDLE_HEIGHT * scaleY\n      );\n      ctx.shadowBlur = 0;\n\n      // Ball\n      ctx.beginPath();\n      ctx.arc(\n        ball.current.x * scaleX + (BALL_SIZE * scaleX) / 2,\n        ball.current.y * scaleY + (BALL_SIZE * scaleY) / 2,\n        (BALL_SIZE * scaleX) / 2,\n        0, Math.PI * 2\n      );\n      ctx.fillStyle = \"#f7f7fa\";\n      ctx.shadowColor = \"#fff\";\n      ctx.shadowBlur = 6;\n      ctx.fill();\n      ctx.shadowBlur = 0;\n    };\n\n    const update = () => {\n      // Move paddles - desktop or mobile\n      if (!mobile) {\n        if (keys.current[\"w\"] && paddle1Y.current > 0) paddle1Y.current -= PADDLE_SPEED;\n        if (keys.current[\"s\"] && paddle1Y.current < GAME_HEIGHT - PADDLE_HEIGHT) paddle1Y.current += PADDLE_SPEED;\n        if ((keys.current[\"arrowup\"] || keys.current[\"↑\"]) && paddle2Y.current > 0) paddle2Y.current -= PADDLE_SPEED;\n        if ((keys.current[\"arrowdown\"] || keys.current[\"↓\"]) && paddle2Y.current < GAME_HEIGHT - PADDLE_HEIGHT) paddle2Y.current += PADDLE_SPEED;\n      } else {\n        // Touch/mobile, button-based control\n        if (paddle1Move === \"up\" && paddle1Y.current > 0) paddle1Y.current -= PADDLE_SPEED;\n        if (paddle1Move === \"down\" && paddle1Y.current < GAME_HEIGHT - PADDLE_HEIGHT) paddle1Y.current += PADDLE_SPEED;\n        if (paddle2Move === \"up\" && paddle2Y.current > 0) paddle2Y.current -= PADDLE_SPEED;\n        if (paddle2Move === \"down\" && paddle2Y.current < GAME_HEIGHT - PADDLE_HEIGHT) paddle2Y.current += PADDLE_SPEED;\n      }\n\n      // Ball movement\n      ball.current.x += ball.current.dx;\n      ball.current.y += ball.current.dy;\n\n      // Wall collision\n      if (ball.current.y <= 0 || ball.current.y + BALL_SIZE >= GAME_HEIGHT) {\n        ball.current.dy *= -1;\n      }\n      // Left paddle collision\n      if (\n        ball.current.x <= PADDLE_WIDTH &&\n        ball.current.y + BALL_SIZE >= paddle1Y.current &&\n        ball.current.y <= paddle1Y.current + PADDLE_HEIGHT\n      ) {\n        ball.current.dx = Math.abs(ball.current.dx);\n      }\n      // Right paddle collision\n      if (\n        ball.current.x + BALL_SIZE >= GAME_WIDTH - PADDLE_WIDTH &&\n        ball.current.y + BALL_SIZE >= paddle2Y.current &&\n        ball.current.y <= paddle2Y.current + PADDLE_HEIGHT\n      ) {\n        ball.current.dx = -Math.abs(ball.current.dx);\n      }\n      // Scoring\n      if (ball.current.x < -BALL_SIZE) {\n        setScores((s) => ({ ...s, p2: s.p2 + 1 }));\n        resetBall(-1);\n      } else if (ball.current.x > GAME_WIDTH + BALL_SIZE) {\n        setScores((s) => ({ ...s, p1: s.p1 + 1 }));\n        resetBall(1);\n      }\n    };\n\n    const resetBall = (direction: number) => {\n      ball.current.x = GAME_WIDTH / 2 - BALL_SIZE / 2;\n      ball.current.y = GAME_HEIGHT / 2 - BALL_SIZE / 2;\n      // Give the ball a random Y direction each serve\n      const yDirection = (Math.random() > 0.5 ? 1 : -1) * BALL_SPEED;\n      ball.current.dx = BALL_SPEED * direction;\n      ball.current.dy = yDirection;\n    };\n\n    const loop = () => {\n      if (!paused) update();\n      draw();\n      animation = requestAnimationFrame(loop);\n    };\n\n    loop();\n    return () => {\n      cancelAnimationFrame(animation);\n    };\n  }, [gameStarted, paused, mobile, canvasDims, paddle1Move, paddle2Move]);\n\n  // Win condition - Updated for tournament mode with better winner object\n  useEffect(() => {\n    if (scores.p1 >= 7 || scores.p2 >= 7) {\n      setGameStarted(false);\n      setPaused(true);\n      \n      const winner = scores.p1 >= 7 ? safePlayer1 : safePlayer2;\n      \n      if (isTournamentMode) {\n        // For tournament mode, pass the complete winner object back\n        onExit(winner);\n      } else {\n        // For regular games, navigate to result pages\n        const winnerName = winner.name;\n        const loserName = scores.p1 >= 7 ? safePlayer2.name : safePlayer1.name;\n        \n        // Check if current user won (assuming player1 is always the user in 1v1 mode)\n        if (scores.p1 >= 7) {\n          window.location.href = `/play/result/win?winner=${encodeURIComponent(winnerName)}&loser=${encodeURIComponent(loserName)}`;\n        } else {\n          window.location.href = `/play/result/loss?winner=${encodeURIComponent(winnerName)}&loser=${encodeURIComponent(loserName)}`;\n        }\n      }\n    }\n  }, [scores, safePlayer1, safePlayer2, onExit, isTournamentMode]);\n\n  // Touch button event helpers\n  const handleMobilePress = (which: 'p1up' | 'p1down' | 'p2up' | 'p2down', isDown: boolean) => {\n    if (which === 'p1up') setPaddle1Move(isDown ? 'up' : '');\n    if (which === 'p1down') setPaddle1Move(isDown ? 'down' : '');\n    if (which === 'p2up') setPaddle2Move(isDown ? 'up' : '');\n    if (which === 'p2down') setPaddle2Move(isDown ? 'down' : '');\n  };\n\n  // Reset/exit helpers\n  const handleStart = () => {\n    setScores({ p1: 0, p2: 0 });\n    paddle1Y.current = GAME_HEIGHT / 2 - PADDLE_HEIGHT / 2;\n    paddle2Y.current = GAME_HEIGHT / 2 - PADDLE_HEIGHT / 2;\n    ball.current.x = GAME_WIDTH / 2 - BALL_SIZE / 2;\n    ball.current.y = GAME_HEIGHT / 2 - BALL_SIZE / 2;\n    ball.current.dx = BALL_SPEED * (Math.random() > 0.5 ? 1 : -1);\n    ball.current.dy = BALL_SPEED * (Math.random() > 0.5 ? 1 : -1);\n    setGameStarted(true);\n    setPaused(false);\n    gameStartTime.current = Date.now();\n  };\n\n  const handlePause = () => {\n    setPaused(true);\n  };\n\n  const handleResume = () => {\n    setPaused(false);\n  };\n\n  const handleExit = () => {\n    if (isTournamentMode) {\n      onExit(); // Exit without winner for tournament mode\n    } else {\n      onExit();\n    }\n  };\n\n  // UI helpers\n  const gameOver = scores.p1 >= 7 || scores.p2 >= 7;\n  const isGameActive = gameStarted && !paused && !gameOver;\n\n  return (\n    <div className=\"flex flex-col overflow-hidden\">\n      {/* Game Container - Full Screen */}\n      <div className=\"flex-1 flex flex-col\">\n        \n        {/* Game Canvas Container */}\n        <div className=\"flex-1 flex items-center justify-center p-4\">\n          <div\n            className=\"relative rounded-2xl border border-[#656872] bg-[#222429] shadow-2xl overflow-hidden\"\n            style={{\n              width: canvasDims.width,\n              height: canvasDims.height,\n            }}\n          >\n            <canvas\n              ref={canvasRef}\n              className=\"block w-full h-full\"\n              style={{\n                width: '100%',\n                height: '100%'\n              }}\n            />\n            \n            {/* Start Button Overlay */}\n            {!gameStarted && (\n              <div className=\"absolute inset-0 z-20 flex items-center justify-center\">\n                <button\n                  onClick={handleStart}\n                  className=\"flex items-center justify-center w-20 h-20 rounded-full bg-black/60 border-4 border-white/80 hover:bg-black/80 hover:scale-110 transition-all duration-150\"\n                >\n                  <svg width={40} height={40} viewBox=\"0 0 24 24\" fill=\"#fff\">\n                    <polygon points=\"8,6 19,12 8,18\" />\n                  </svg>\n                </button>\n              </div>\n            )}\n\n            {/* Pause Icon Overlay - Only shows pause icon */}\n            {gameStarted && paused && !gameOver && (\n              <div className=\"absolute inset-0 z-30 bg-black/60 flex items-center justify-center\">\n                <div className=\"flex items-center justify-center w-24 h-24 rounded-full bg-black/80 border-4 border-white/80\">\n                  <svg width={48} height={48} viewBox=\"0 0 24 24\" fill=\"#fff\">\n                    <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" />\n                    <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" />\n                  </svg>\n                </div>\n              </div>\n            )}\n            \n            {/* Mobile Controls */}\n            {mobile && isGameActive && (\n              <>\n                <div className=\"absolute left-2 top-1/2 transform -translate-y-1/2 flex flex-col gap-2 z-20\">\n                  <button\n                    className=\"w-12 h-12 bg-gray-800/80 rounded-lg text-white font-bold text-xl flex items-center justify-center touch-manipulation\"\n                    onTouchStart={() => handleMobilePress('p1up', true)}\n                    onTouchEnd={() => handleMobilePress('p1up', false)}\n                  >\n                    ↑\n                  </button>\n                  <button\n                    className=\"w-12 h-12 bg-gray-800/80 rounded-lg text-white font-bold text-xl flex items-center justify-center touch-manipulation\"\n                    onTouchStart={() => handleMobilePress('p1down', true)}\n                    onTouchEnd={() => handleMobilePress('p1down', false)}\n                  >\n                    ↓\n                  </button>\n                </div>\n                <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2 flex flex-col gap-2 z-20\">\n                  <button\n                    className=\"w-12 h-12 bg-gray-800/80 rounded-lg text-white font-bold text-xl flex items-center justify-center touch-manipulation\"\n                    onTouchStart={() => handleMobilePress('p2up', true)}\n                    onTouchEnd={() => handleMobilePress('p2up', false)}\n                  >\n                    ↑\n                  </button>\n                  <button\n                    className=\"w-12 h-12 bg-gray-800/80 rounded-lg text-white font-bold text-xl flex items-center justify-center touch-manipulation\"\n                    onTouchStart={() => handleMobilePress('p2down', true)}\n                    onTouchEnd={() => handleMobilePress('p2down', false)}\n                  >\n                    ↓\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n\n        {/* Game Info Bar */}\n        <div className=\"p-4\">\n          {/* Timer */}\n          <div className=\"flex justify-center mb-4\">\n            <div className=\"flex gap-2 sm:gap-4 text-center\">\n              <div className=\"bg-[#2a2f3a] rounded-lg px-2 sm:px-4 py-2 min-w-[60px] sm:min-w-[80px]\">\n                <div className=\"text-lg sm:text-2xl font-bold text-white\">{String(gameTime.hours).padStart(2, '0')}</div>\n                <div className=\"text-xs text-gray-400\">Hours</div>\n              </div>\n              <div className=\"bg-[#2a2f3a] rounded-lg px-2 sm:px-4 py-2 min-w-[60px] sm:min-w-[80px]\">\n                <div className=\"text-lg sm:text-2xl font-bold text-white\">{String(gameTime.minutes).padStart(2, '0')}</div>\n                <div className=\"text-xs text-gray-400\">Minutes</div>\n              </div>\n              <div className=\"bg-[#2a2f3a] rounded-lg px-2 sm:px-4 py-2 min-w-[60px] sm:min-w-[80px]\">\n                <div className=\"text-lg sm:text-2xl font-bold text-white\">{String(gameTime.seconds).padStart(2, '0')}</div>\n                <div className=\"text-xs text-gray-400\">Seconds</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Players and Score - Responsive Grid Layout */}\n          <div className=\"grid grid-cols-3 items-center gap-2 sm:gap-4 mb-4\">\n            {/* Player 1 - Left Column */}\n            <div className=\"flex items-center gap-2 sm:gap-3 justify-start\">\n              <img\n                src={safePlayer1.avatar}\n                alt={safePlayer1.name}\n                className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-blue-400 object-cover flex-shrink-0\"\n              />\n              <div className=\"min-w-0 flex-1\">\n                <h4 className=\"text-white font-semibold text-sm sm:text-xl md:text-2xl truncate\">\n                  {safePlayer1.name}\n                </h4>\n                <p className=\"text-gray-400 text-xs sm:text-sm md:text-lg truncate\">@{safePlayer1.nickname}</p>\n              </div>\n            </div>\n            \n            {/* Score - Center Column */}\n            <div className=\"text-center flex-shrink-0\">\n              <div className=\"text-2xl sm:text-3xl md:text-4xl font-bold text-white whitespace-nowrap\">\n                {scores.p1} - {scores.p2}\n              </div>\n            </div>\n            \n            {/* Player 2 - Right Column */}\n            <div className=\"flex items-center gap-2 sm:gap-3 justify-end\">\n              <div className=\"min-w-0 flex-1 text-right\">\n                <h4 className=\"text-white font-semibold text-sm sm:text-xl md:text-2xl truncate\">\n                  {safePlayer2.name}\n                </h4>\n                <p className=\"text-gray-400 text-xs sm:text-sm md:text-lg truncate\">@{safePlayer2.nickname}</p>\n              </div>\n              <img\n                src={safePlayer2.avatar}\n                alt={safePlayer2.name}\n                className=\"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-blue-400 object-cover flex-shrink-0\"\n              />\n            </div>\n          </div>\n\n          {/* Game Controls */}\n          <div className=\"flex justify-center gap-2 sm:gap-4\">\n            {isGameActive && (\n              <button\n                onClick={handlePause}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 sm:px-8 py-2 sm:py-3 rounded-lg font-semibold transition-colors text-sm sm:text-base\"\n              >\n                Pause\n              </button>\n            )}\n            {gameStarted && paused && !gameOver && (\n              <button\n                onClick={handleResume}\n                className=\"bg-green-600 hover:bg-green-700 text-white px-4 sm:px-8 py-2 sm:py-3 rounded-lg font-semibold transition-colors text-sm sm:text-base\"\n              >\n                Resume\n              </button>\n            )}\n            <button\n              onClick={handleExit}\n              className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 sm:px-8 py-2 sm:py-3 rounded-lg font-semibold transition-colors text-sm sm:text-base\"\n            >\n              Exit\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":["file:///goinfre/mghalmi/ft_transcendence/src/app/%28main%29/play/OneVsOne/Locale.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState } from 'react';\nimport { user } from \"../../../../data/mockData\";\nimport { PingPongGame } from \"../game/PingPongGame\";\n\n// Add Player Modal Component\nconst AddPlayerModal = ({ isOpen, onClose, onAddPlayer }) => {\n  const [nickname, setNickname] = useState('');\n  const [name, setName] = useState('');\n  const [errors, setErrors] = useState({});\n  const [avatar, setAvatar] = useState(null);\n\n  const handleSubmit = () => {\n    const newErrors = {};\n    \n    if (!nickname.trim()) {\n      newErrors.nickname = 'Username is required';\n    }\n    \n    if (!name.trim()) {\n      newErrors.name = 'Name is required';\n    }\n\n    if (!avatar) {\n      newErrors.avatar = 'Avatar is required';\n    }\n  \n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n    \n    // Clear errors if validation passes\n    setErrors({});\n    \n    onAddPlayer({\n      nickname: nickname.trim(),\n      name: name.trim(),\n      avatar: avatar\n    });\n    \n    // Reset form\n    setNickname('');\n    setName('');\n    setAvatar(null);\n  };\n\n  const handleNicknameChange = (e) => {\n    setNickname(e.target.value);\n    if (errors.nickname) {\n      setErrors(prev => ({ ...prev, nickname: '' }));\n    }\n  };\n\n  const handleNameChange = (e) => {\n    setName(e.target.value);\n    if (errors.name) {\n      setErrors(prev => ({ ...prev, name: '' }));\n    }\n  };\n\n  const handleAvatarChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => setAvatar(e.target.result);\n      reader.readAsDataURL(file);\n    }\n    if (errors.avatar) {\n      setErrors(prev => ({ ...prev, avatar: '' }));\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0  backdrop-blur-xs flex items-center justify-center z-50\">\n      <div className=\"bg-[#121417] rounded-lg p-8 w-full max-w-md mx-4 border border-gray-700\">\n        <h2 className=\"text-xl font-bold text-white mb-6 text-center\">Player 2</h2>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              value={nickname}\n              onChange={handleNicknameChange}\n              className={`w-full px-4 py-3 bg-[#4a5568] text-white rounded-lg border-none outline-none focus:bg-[#5a6578] transition-colors ${\n                errors.nickname ? 'ring-2 ring-red-500' : ''\n              }`}\n            />\n            {errors.nickname && (\n              <p className=\"text-red-400 text-sm mt-1\">{errors.nickname}</p>\n            )}\n          </div>\n          \n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Name\"\n              value={name}\n              onChange={handleNameChange}\n              className={`w-full px-4 py-3 bg-[#4a5568] text-white rounded-lg border-none outline-none focus:bg-[#5a6578] transition-colors ${\n                errors.name ? 'ring-2 ring-red-500' : ''\n              }`}\n            />\n            {errors.name && (\n              <p className=\"text-red-400 text-sm mt-1\">{errors.name}</p>\n            )}\n          </div>\n          \n          <div className={`border-2 border-dashed rounded-lg p-8 text-center ${\n            errors.avatar ? 'border-red-500 bg-red-500/10' : 'border-gray-500'\n            }`}>\n            <div className=\"mb-4\">\n              <h3 className=\"text-white font-semibold mb-2\">Upload Avatar</h3>\n              <p className=\"text-gray-400 text-sm mb-4\">Select an avatar for Player 2.</p>\n              \n              {avatar && (\n                <div className=\"mb-4\">\n                  <img\n                    src={avatar}\n                    alt=\"Avatar preview\"\n                    className=\"w-16 h-16 rounded-full mx-auto object-cover\"\n                  />\n                </div>\n              )}\n              \n              <label className=\"bg-gray-700 hover:bg-[#5a6578] text-white px-4 py-2 rounded-lg cursor-pointer transition-colors inline-block\">\n                Choose Avatar\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleAvatarChange}\n                  className=\"hidden\"\n                />\n              </label>\n            </div>\n             {errors.avatar && (\n                <p className=\"text-red-400 text-sm mt-2\">{errors.avatar}</p>\n              )}\n          </div>\n          \n          <div className=\"flex justify-end space-x-4 mt-6\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-2 text-gray-400 hover:text-white transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors\"\n            >\n              Update\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Player Card Component\nexport const PlayerCard = ({ player, playerNumber, onAddPlayer }) => {\n  if (!player) {\n    return (\n      <div className=\"text-center\">\n        <h3 className=\"text-2xl md:text-3xl font-semibold text-white mb-8\">Player {playerNumber}</h3>\n        <div className=\"border-2 border-dashed border-gray-500 rounded-2xl p-10 md:p-20 mb-8\">\n          <div className=\"text-center\">\n            <h4 className=\"text-white font-semibold mb-4 text-xl md:text-2xl\">Add Player {playerNumber}</h4>\n            <p className=\"text-gray-400 text-lg md:text-xl mb-6\">Add a local player to start a 1v1 game.</p>\n            <button\n              onClick={onAddPlayer}\n              className=\"bg-[#4a5568] hover:bg-[#5a6578] text-white px-8 py-4 md:px-12 md:py-5 rounded-xl text-lg md:text-2xl transition-colors\"\n              >\n              Add Player\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"text-center\">\n      <h3 className=\"text-2xl md:text-3xl font-semibold text-white mb-8\">Player {playerNumber}</h3>\n      <div className=\"mb-8\">\n        <div className=\"relative w-36 h-36 md:w-48 md:h-48 mx-auto mb-6\">\n          <img\n            src={player.avatar}\n            alt={player.name}\n            className=\"w-full h-full rounded-full object-cover border-4 border-[#4a5568]\"\n            onError={(e) => {\n              e.target.src = '/mghalmi.jpg';\n            }}\n          />\n        </div>\n        <h4 className=\"text-white font-semibold text-2xl md:text-3xl\">\n          {player.name}\n        </h4>\n        <p className=\"text-gray-400 text-lg md:text-xl\">@{player.nickname}</p>\n      </div>\n    </div>\n  );\n};\n\n// Main Local 1v1 Component\nexport default function Local1v1() {\n  const [player2, setPlayer2] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [showGame, setShowGame] = useState(false);\n\n  const handleAddPlayer = (playerData) => {\n    setPlayer2(playerData);\n    setIsModalOpen(false);\n  };\n\n  const handleStartGame = () => {\n    if (!player2) {\n      alert('Please add Player 2 before starting the game');\n      return;\n    }\n    setShowGame(true);\n  };\n\n  const handleExitGame = () => {\n    setShowGame(false);\n    setPlayer2(null);\n  };\n\n  // If both players are present and showGame is true, show PingPongGame\n  if (showGame && player2) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[calc(100vh-80px)] px-4\">\n        <PingPongGame\n          player1={user}\n          player2={player2}\n          onExit={handleExitGame}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full text-white\">\n      {/* Main Content */}\n      <div className=\"flex items-center justify-center min-h-[calc(100vh-80px)] px-4\">\n        <div className=\"w-full max-w-md md:max-w-2xl lg:max-w-3xl xl:max-w-4xl\">\n          <h1 className=\"text-4xl md:text-6xl font-bold text-center mb-12 md:mb-20\">Local 1v1</h1>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-20 mb-12 md:mb-20\">\n            {/* Player 1 - Current User */}\n            <PlayerCard player={user} playerNumber={1} />\n\n            {/* Player 2 - To be added */}\n            <PlayerCard\n              player={player2}\n              playerNumber={2}\n              onAddPlayer={() => setIsModalOpen(true)}\n            />\n          </div>\n\n          {/* Start Game Button */}\n          <div className=\"text-center\">\n            <button\n              onClick={handleStartGame}\n              disabled={!player2}\n              className={`px-10 py-4 md:px-16 md:py-6 rounded-xl text-xl md:text-3xl font-semibold transition-all duration-300 ${\n                player2\n                  ? 'bg-green-600 hover:bg-green-700 text-white'\n                  : 'bg-gray-600 text-gray-400 cursor-not-allowed'\n              }`}\n            >\n              Start Game\n            </button>\n          </div>\n        </div>\n      </div>\n      {/* Add Player Modal */}\n      <AddPlayerModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onAddPlayer={handleAddPlayer}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1315, "column": 0}, "map": {"version":3,"sources":["file:///goinfre/mghalmi/ft_transcendence/src/app/%28main%29/play/OneVsOne/Online.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState, useRef } from 'react';\nimport { Search } from 'lucide-react';\nimport {onlineFriends, user } from '@/data/mockData';\nimport {PingPongGame} from \"../game/PingPongGame\";\nimport { PlayerCard } from './Locale';\n\n// Additional mock players to show more variety\nconst onlinePlayers = onlineFriends;\n\nconst PlayerListItem = ({ player, onInvite }) => {\n  const isAvailable = player.GameStatus === 'Available';\n  const isOnline = player.GameStatus === 'Available' || player.GameStatus === 'In a match';\n  \n  return (\n    <div className=\"flex items-center justify-between p-4 hover:bg-[#1a1d23] rounded-lg transition-colors\">\n      <div className=\"flex items-center space-x-4\">\n        <div className=\"relative\">\n          <img\n            src={player.avatar}\n            alt={player.name}\n            className=\"w-12 h-12 rounded-full object-cover\"\n            onError={(e) => {\n              e.target.src = '/default-avatar.png';\n            }}\n          />\n        </div>\n        <div>\n          <h3 className=\"text-white font-medium text-lg\">{player.name}</h3>\n          <p className={`text-sm ${\n            player.GameStatus === 'Available' ? 'text-green-400' : \n            player.GameStatus === 'In a match' ? 'text-yellow-400' : 'text-gray-400'\n          }`}>\n            {player.GameStatus}\n          </p>\n        </div>\n      </div>\n      \n      <button\n        onClick={() => onInvite(player)}\n        disabled={!isAvailable}\n        className={`px-6 py-2 rounded-lg font-medium transition-colors ${\n          isAvailable\n            ? 'bg-[#4a5568] hover:bg-[#5a6578] text-white'\n            : 'bg-gray-700 text-gray-400 cursor-not-allowed'\n        }`}\n      >\n        Invite\n      </button>\n    </div>\n  );\n};\n\nexport default function OnlineMatch() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isWaitingForResponse, setIsWaitingForResponse] = useState(false);\n  const [invitedPlayer, setInvitedPlayer] = useState(null);\n  const [gameAccepted, setGameAccepted] = useState(false);\n  const [waitTime, setWaitTime] = useState(30);\n  const [showGame, setShowGame] = useState(false);\n  \n  // Use useRef to store the interval ID so we can clear it when canceling\n  const countdownIntervalRef = useRef(null);\n  const responseTimeoutRef = useRef(null);\n  \n  const filteredPlayers = onlinePlayers.filter(player =>\n    player.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const handleInvite = (player) => {\n    console.log('Inviting player:', player);\n    setInvitedPlayer(player);\n    setIsWaitingForResponse(true);\n    setGameAccepted(false);\n    setWaitTime(30);\n    \n    // Clear any existing intervals/timeouts\n    if (countdownIntervalRef.current) {\n      clearInterval(countdownIntervalRef.current);\n    }\n    if (responseTimeoutRef.current) {\n      clearTimeout(responseTimeoutRef.current);\n    }\n    \n    // Simulate countdown and response waiting\n    countdownIntervalRef.current = setInterval(() => {\n      setWaitTime(prev => {\n        if (prev <= 1) {\n          clearInterval(countdownIntervalRef.current);\n          countdownIntervalRef.current = null;\n          \n          // Simulate random response (accept/decline/timeout) - higher chance of accept for demo\n          const responses = ['accept', 'decline', 'timeout'];\n          // const response = responses[Math.floor(Math.random() * responses.length)];\n          const response = 'accept';\n          \n          responseTimeoutRef.current = setTimeout(() => {\n            // Check if invitation is still active (not canceled)\n            if (isWaitingForResponse) {\n              if (response === 'accept') {\n                setGameAccepted(true);\n                // Don't reset the waiting state, show the accepted game state instead\n              } else if (response === 'decline') {\n                alert(`${player.name} declined your invitation.`);\n                setIsWaitingForResponse(false);\n                setInvitedPlayer(null);\n              } else {\n                alert(`${player.name} didn't respond to your invitation.`);\n                setIsWaitingForResponse(false);\n                setInvitedPlayer(null);\n              }\n            }\n            responseTimeoutRef.current = null;\n          }, 0);\n          return 5;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleCancelInvite = () => {\n    // Clear all intervals and timeouts to prevent any delayed responses\n    if (countdownIntervalRef.current) {\n      clearInterval(countdownIntervalRef.current);\n      countdownIntervalRef.current = null;\n    }\n    if (responseTimeoutRef.current) {\n      clearTimeout(responseTimeoutRef.current);\n      responseTimeoutRef.current = null;\n    }\n    \n    // Reset all states\n    setIsWaitingForResponse(false);\n    setInvitedPlayer(null);\n    setGameAccepted(false);\n    setWaitTime(30);\n  };\n\n  const handleStartGame = () => {\n    console.log('Starting game with:', {\n      player1: user,\n      player2: invitedPlayer\n    });\n\n    setShowGame(true);\n  };\n\n  const handleExitGame = () => {\n    setShowGame(false);\n    setIsWaitingForResponse(false);\n    setInvitedPlayer(null);\n    setGameAccepted(false);\n  };\n\n  return (\n    <div className=\"h-full w-full text-white\">\n      {/* Main Content */}\n     <div className=\"flex items-center justify-center min-h-[calc(100vh-80px)] px-4\">\n        <div className=\"w-full max-w-md md:max-w-2xl lg:max-w-3xl xl:max-w-4xl\">\n            {!gameAccepted && (\n            <h1 className=\"text-center text-4xl md:text-5xl font-bold mb-8\">1v1 Online Match</h1>\n            )}\n          \n          {!showGame ? (\n            !isWaitingForResponse ? (\n              <>\n                {/* Search Bar */}\n                <div className=\"relative mb-8\">\n                  <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n                    <Search className=\"h-5 w-5 text-gray-400\" />\n                  </div>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search for players\"\n                    value={searchQuery}\n                    onChange={handleSearchChange}\n                    className=\"w-full pl-12 pr-4 py-4 bg-[#2a2f3a] text-white rounded-lg border-none outline-none focus:bg-[#3a3f4a] transition-colors text-lg\"\n                  />\n                </div>\n                \n                {/* Online Players Section */}\n                <div className=\"mb-8\">\n                  <h2 className=\"text-2xl font-semibold text-white mb-6\">Online Players</h2>\n                  \n                  <div className=\"space-y-2 bo\">\n                    {filteredPlayers.length > 0 ? (\n                      filteredPlayers.map((player, index) => (\n                        <PlayerListItem\n                          key={`${player.name}-${index}`}\n                          player={player}\n                          onInvite={handleInvite}\n                        />\n                      ))\n                    ) : (\n                      <div className=\"text-center py-12\">\n                        <p className=\"text-gray-400 text-lg\">No players found matching your search.</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </>\n            ) : (\n              // Match Queue / Game Accepted Interface\n              <div className=\"flex flex-row items-center justify-center\">\n                <div className=\"max-w-7xl mx-auto text-center\">\n                  <h2 className=\"text-3xl font-semibold text-white mb-12\"></h2>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-20 md:gap-80 mb-12 md:mb-20\">\n                  \n                  {/* Player 1 */}\n                  <PlayerCard player={user} playerNumber={1} />\n                 \n                  \n                  {/* Player 2 - Waiting for Response or Accepted */}\n                  <div className=\"flex items-center\">\n                    <div className=\"flex flex-col items-center\">\n                      {gameAccepted ? (\n                          <PlayerCard player={invitedPlayer} playerNumber={2} />\n                      ) : (\n                        <>\n                          <p className=\"text-white text-lg mb-8\">\n                            Waiting for {invitedPlayer.name} to respond...\n                          </p>\n                          \n                          {/* Progress Bar */}\n                          <div className=\"w-full mb-4\">\n                            <div className=\"bg-gray-700 rounded-full\">\n                              <div \n                                className=\"bg-white rounded-full h-2 transition-all duration-1000 ease-linear\"\n                                style={{ width: `${((30 - waitTime) / 30) * 100}%` }}\n                              ></div>\n                            </div>\n                          </div>\n                          \n                          <p className=\"text-gray-400 text-sm\">\n                            Estimated wait time: {waitTime} seconds\n                          </p>\n                        </>\n                      )}\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Action Buttons */}\n                  <div className=\"flex justify-center space-x-4\">\n                    {gameAccepted ? (\n                      <button\n                        onClick={handleStartGame}\n                        className=\"bg-green-600 hover:bg-green-700 text-white px-12 py-4 rounded-xl text-xl font-semibold transition-colors\"\n                      >\n                        Start Game\n                      </button>\n                    ) : (\n                      <button\n                        onClick={handleCancelInvite}\n                        className=\"bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-lg transition-colors\"\n                      >\n                        Cancel\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )\n          ) : (\n              <PingPongGame\n                player1={user}\n                player2={invitedPlayer}\n                onExit={handleExitGame}\n              />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1763, "column": 0}, "map": {"version":3,"sources":["file:///goinfre/mghalmi/ft_transcendence/src/app/%28main%29/play/OneVsOne/page.tsx"],"sourcesContent":["\"use client\"\nimport { useEffect, useState } from \"react\";\nimport Local1v1 from \"./Locale\";\nimport { notFound, useSearchParams } from 'next/navigation';\nimport OnlineMatch from \"./Online\";\n\nexport default function Page1v1() {\n  const searchParams = useSearchParams();\n  const [gameMode, setGameMode] = useState<\"Local\" | \"Online\" | null>(null);\n\n  useEffect(() => {\n    const modeParam = searchParams.get('mode');\n    if (modeParam === 'Local' || modeParam === 'Online') {\n      setGameMode(modeParam as \"Local\" | \"Online\");\n    } else {\n      notFound();\n    }\n  }, [searchParams]);\n  return (\n    <>\n      {gameMode === 'Local' ? (\n        <Local1v1 />\n      ) : gameMode === 'Online' ? (\n        <OnlineMatch />\n      ) : null}\n    </>\n  );\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA6B;IAEpE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY,aAAa,GAAG,CAAC;QACnC,IAAI,cAAc,WAAW,cAAc,UAAU;YACnD,YAAY;QACd,OAAO;YACL,CAAA,GAAA,kIAAA,CAAA,WAAQ,AAAD;QACT;IACF,GAAG;QAAC;KAAa;IACjB,qBACE;kBACG,aAAa,wBACZ,8OAAC,qJAAA,CAAA,UAAQ;;;;mBACP,aAAa,yBACf,8OAAC,qJAAA,CAAA,UAAW;;;;mBACV;;AAGV","debugId":null}}]
}